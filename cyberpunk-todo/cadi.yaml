# CADI Manifest for Cyberpunk Todo Web App
manifest_id: "cyberpunk-todo-manifest"
manifest_version: "1.0"

application:
  name: "cyberpunk-todo"
  description: "Cyberpunk styled todo web app reusing existing chunks"
  version: "0.1.0"
  authors:
    - "CADI User"
  license: "MIT"

build_graph:
  nodes:
    - id: "todo-core"
      source_cadi: "chunk:sha256:2fab1892a5c70423309d7da6a295b32bb260901a7c60b7d1819a45af362bcdb7"
      representations:
        - form: "source"
          language: "rust"
          chunk: "chunk:sha256:2fab1892a5c70423309d7da6a295b32bb260901a7c60b7d1819a45af362bcdb7"

    - id: "cyberpunk-todo"
      source_cadi: null  # Will be set after import
      representations:
        - form: "source"
          language: "typescript"
          chunk: null  # Will be set after import
        - form: "bundle"
          format: "esm"
          chunk: null  # Will be set after build

  edges:
    - from: "cyberpunk-todo"
      to: "todo-core"
      interface: "TodoService"
      relation: "depends_on"

build_targets:
  - name: "web"
    platform: "wasm32-unknown-unknown"
    nodes:
      - id: "todo-core"
        prefer: ["source:rust"]
      - id: "cyberpunk-todo"
        prefer: ["bundle:esm"]
    bundle:
      format: "esm"
      output: "dist/cyberpunk-todo"
      minify: true
